<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>ngraph: a graph to encode a neuron's connectivity — ngraph • nat</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="ngraph: a graph to encode a neuron's connectivity — ngraph" />
<meta property="og:description" content="the ngraph class contains a (completely general) graph 
  representation of a neuron's connectivity in an igraph object. It 
  may additionally contain vertex label or position data. See details.  
ngraph() creates an ngraph from edge and vertex information.
as.ngraph converts an object to an ngraph
as.ngraph.dataframe construct ngraph from a data.frame 
  containing SWC format data
as.ngraph.neuron construct ngraph from a neuron" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">nat</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.8.18</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Installation.html">Installation Details</a>
    </li>
    <li>
      <a href="../articles/neurons-intro.html">Introduction to neurons and neuronlists</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/natverse/nat/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>ngraph: a graph to encode a neuron's connectivity</h1>
    <small class="dont-index">Source: <a href='https://github.com/natverse/nat/blob/master/R/ngraph.R'><code>R/ngraph.R</code></a></small>
    <div class="hidden name"><code>ngraph.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>the <code>ngraph</code> class contains a (completely general) graph 
  representation of a neuron's connectivity in an <code>igraph</code> object. It 
  may additionally contain vertex label or position data. See details.</p>  
<p><code>ngraph()</code> creates an ngraph from edge and vertex information.</p>
<p><code>as.ngraph</code> converts an object to an ngraph</p>
<p><code>as.ngraph.dataframe</code> construct ngraph from a data.frame 
  containing SWC format data</p>
<p><code>as.ngraph.neuron</code> construct ngraph from a neuron</p>
    </div>

    <pre class="usage"><span class='fu'>ngraph</span><span class='op'>(</span>
  <span class='va'>el</span>,
  <span class='va'>vertexlabels</span>,
  xyz <span class='op'>=</span> <span class='cn'>NULL</span>,
  diam <span class='op'>=</span> <span class='cn'>NULL</span>,
  directed <span class='op'>=</span> <span class='cn'>TRUE</span>,
  weights <span class='op'>=</span> <span class='cn'>FALSE</span>,
  vertex.attributes <span class='op'>=</span> <span class='cn'>NULL</span>,
  graph.attributes <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span>

<span class='fu'>as.ngraph</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for data.frame</span>
<span class='fu'>as.ngraph</span><span class='op'>(</span><span class='va'>x</span>, directed <span class='op'>=</span> <span class='cn'>TRUE</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for neuron</span>
<span class='fu'>as.ngraph</span><span class='op'>(</span><span class='va'>x</span>, directed <span class='op'>=</span> <span class='cn'>TRUE</span>, method <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"swc"</span>, <span class='st'>"seglist"</span><span class='op'>)</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>el</th>
      <td><p>A two columm matrix (start, end) defining edges. <code>start</code> means
closer to the root (soma) of the neuron.</p></td>
    </tr>
    <tr>
      <th>vertexlabels</th>
      <td><p>Integer labels for graph - the edge list is specified 
using these labels.</p></td>
    </tr>
    <tr>
      <th>xyz</th>
      <td><p>3D coordinates of vertices (optional, Nx3 matrix, or Nx4 matrix 
when 4th column is assumed to be diameter)</p></td>
    </tr>
    <tr>
      <th>diam</th>
      <td><p>Diameter of neuron at each vertex (optional)</p></td>
    </tr>
    <tr>
      <th>directed</th>
      <td><p>Whether the resultant graph should be directed (default TRUE)</p></td>
    </tr>
    <tr>
      <th>weights</th>
      <td><p>Logical value indicating whether edge weights defined by the 
3D distance between points should be added to graph (default <code>FALSE</code>) 
<em>or</em> a numeric vector of weights.</p></td>
    </tr>
    <tr>
      <th>vertex.attributes, graph.attributes</th>
      <td><p>List of named attributes to be 
added to the graph. The elements of <code>vertex.attributes</code> must be 
vectors whose length is compatible with the number of elements in the 
graph. See <code><a href='https://rdrr.io/pkg/igraph/man/set_vertex_attr.html'>set.vertex.attribute</a></code> for details.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>Object to convert (see method descriptions)</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Arguments passed to methods</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>Whether to use the swc data (x$d) or the seglist to define 
neuronal connectivity to generate graph.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>an <code>igraph</code> object with additional class <code>ngraph</code>, having a
  vertex for each entry in vertexlabels, each vertex having a <code>label</code> 
  attribute. All vertices are included whether connected or not.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Note that the <code>as.ngraph.neuron</code> method <em>always</em> keeps the
  original vertex labels (a.k.a. PointNo) as read in from the original file.</p>
    <h2 class="hasAnchor" id="connectivity"><a class="anchor" href="#connectivity"></a>Connectivity</h2>

    <p>We make the following assumptions about neurons coming
  in</p>  
<p></p><ul>
<li><p>They have an integer vertex label that need not start from 1 and that
  may have gaps</p></li>
<li><p>The edge list which defines connectivity specifies edges using pairs 
  of vertex labels, _not_ raw vertex ids.</p></li>
</ul>
  
<p>We make no attempt to determine the root points at this stage.</p>  
<p>The raw vertex ids in the graph will be in the order of vertexlabels and 
  can therefore be used to index a block of vertex coordinates. The 
  vertexlabels will be stored using the vertex attribute <code>label</code></p>  
<p>When the graph is directed (default) the edges will be from the root to the
  other tips of the neuron.</p>
    <h2 class="hasAnchor" id="morphology"><a class="anchor" href="#morphology"></a>Morphology</h2>

    <p>The morphology of the neuron is encoded by the 
  combination of connectivity information (i.e. the graph) and spatial data 
  encoded as the 3D position and diameter of each vertex. Position 
  information is stored as vertex attributes X, Y, and Z.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://rdrr.io/pkg/igraph/man/aaa-igraph-package.html'>igraph</a></code>, <code><a href='https://rdrr.io/pkg/igraph/man/set_vertex_attr.html'>set.vertex.attribute</a></code>,
  <code><a href='subset.neuron.html'>subset.neuron</a></code> for example of graph-based manipulation of a
  neuron.</p>
<p>Other neuron: 
<code><a href='neuron.html'>neuron</a>()</code>,
<code><a href='plot.neuron.html'>plot.neuron</a>()</code>,
<code><a href='potential_synapses.html'>potential_synapses</a>()</code>,
<code><a href='prune.html'>prune</a>()</code>,
<code><a href='resample.html'>resample</a>()</code>,
<code><a href='rootpoints.html'>rootpoints</a>()</code>,
<code><a href='spine.html'>spine</a>()</code>,
<code><a href='subset.neuron.html'>subset.neuron</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>g</span><span class='op'>=</span><span class='fu'>as.ngraph</span><span class='op'>(</span><span class='va'>Cell07PNs</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://igraph.org'>igraph</a></span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Attaching package: ‘igraph’</span></div><div class='output co'>#&gt; <span class='message'>The following object is masked from ‘package:nat’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    union</span></div><div class='output co'>#&gt; <span class='message'>The following object is masked from ‘package:testthat’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    compare</span></div><div class='output co'>#&gt; <span class='message'>The following objects are masked from ‘package:stats’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    decompose, spectrum</span></div><div class='output co'>#&gt; <span class='message'>The following object is masked from ‘package:base’:</span>
#&gt; <span class='message'></span>
#&gt; <span class='message'>    union</span></div><div class='input'><span class='co'># check that vertex attributes of graph match X position</span>
<span class='fu'><a href='https://rdrr.io/r/base/all.equal.html'>all.equal</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>g</span><span class='op'>)</span><span class='op'>$</span><span class='va'>X</span>, <span class='va'>Cell07PNs</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span><span class='op'>$</span><span class='va'>d</span><span class='op'>$</span><span class='va'>X</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] TRUE</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Gregory Jefferis, James Manton.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


